$(document).ready(function(){function e(){a.on("click",function(){$(this).toggleClass("open")}),n.on("keyup",t),d.on("click",function(){var e=$(this).data("id");$(this).hasClass("selected")?($(this).removeClass("selected"),o.each(function(){$(this).data("id")===e&&($(this).addClass("hidden"),i.find('option[value="'+e+'"]').attr("selected",!1))})):($(this).addClass("selected"),o.each(function(){$(this).data("id")===e&&($(this).removeClass("hidden"),i.find("option[value="+e+"]").attr("selected",!0))}))}),c.on("click",function(){var e=$(this).closest(o),t=e.data("id");e.addClass("hidden"),i.find('option[value="'+t+'"]').attr("selected",!1),$('.js-dropdown-item[data-id="'+t+'"]').removeClass("selected")}),l.on("submit",function(e){var t=s();this.checkValidity()&&(e.preventDefault(),$.ajax({type:"POST",url:"/admin_v2/core/formhandler/add/client.php",data:t,dataType:"json",success:function(e){if(l.find("input").closest(".form-group").removeClass("has-error"),"error"===e.status)switch(e.message){case"email_exists":l.find("input[name=email]").closest(".form-group").addClass("has-error")}else if("success"===e.status){var s=new Option(t.first_name+"  "+t.last_name,e.client_id,!0,!0);r.append(s).trigger("change")}}}))})}function t(){var e=$(this).val();d.each(function(){$(this).text().search(new RegExp(e,"i"))<0?$(this).fadeOut():$(this).show()})}function s(){var e={};return l.find("input").each(function(){e[$(this).attr("name")]=$(this).val()}),e}var i=$(".js-select"),a=(i.find("option"),$(".js-pseudo-select")),n=$(".js-input"),d=$(".js-dropdown-item"),o=($(".js-added-block"),$(".js-added-item")),c=$(".js-remove-added"),l=$(".js-client-form"),r=($(".js-clien-submit"),$(".js-client-select"));!function(){e()}()});